═══════════════════════════════════════════════════════════
🚀 RAILWAY QUICK FIX - DO THIS NOW
═══════════════════════════════════════════════════════════

PROBLEM: Railway running OLD code with CORS errors

SOLUTION: 5 steps, 10 minutes

═══════════════════════════════════════════════════════════
STEP 1: GO TO RAILWAY
═══════════════════════════════════════════════════════════

URL: https://railway.app
Open: afterstate.events → production
Click: "Settings" tab

═══════════════════════════════════════════════════════════
STEP 2: DELETE THESE FIELDS (CRITICAL!)
═══════════════════════════════════════════════════════════

Find "Pre-deploy Command":
  Currently shows: npm run migrate
  Action: Click X, DELETE, leave EMPTY ✅

Find "Custom Start Command":
  Currently shows: npm run start
  Action: Click X, DELETE, leave EMPTY ✅

Find "Root Directory":
  Action: Should be EMPTY or just "."
  If shows "backend": DELETE IT ✅

Click: SAVE

═══════════════════════════════════════════════════════════
STEP 3: REDEPLOY
═══════════════════════════════════════════════════════════

Click: "Deployments" tab
Find: Latest deployment
Click: "⋯" (three dots)
Click: "Redeploy"

═══════════════════════════════════════════════════════════
STEP 4: WATCH BUILD LOGS (7 minutes)
═══════════════════════════════════════════════════════════

Look for these ✅ GOOD signs:
  ✅ cd backend-new && npm ci --omit=dev
  ✅ Installing dependencies (198 packages)
  ✅ cd backend-new && node server.js
  ✅ StudentEvents API Server v2.0.0
  ✅ Database connected successfully

❌ BAD signs (means still using old code):
  ❌ npm run migrate
  ❌ Missing script: "migrate"
  ❌ Using cached deployment

═══════════════════════════════════════════════════════════
STEP 5: TEST DEPLOYMENT
═══════════════════════════════════════════════════════════

Open browser, go to:
https://studentevents-production.up.railway.app/api/version

✅ EXPECTED (NEW BACKEND):
  {
    "version": "2.0.0",
    "backend": "NEW-BACKEND",
    "timestamp": "..."
  }

❌ WRONG (OLD BACKEND):
  {"error": "Route not found"}

═══════════════════════════════════════════════════════════
✅ IF STEP 5 SHOWS "NEW-BACKEND"
═══════════════════════════════════════════════════════════

SUCCESS! Now test the frontend:

1. Go to: https://afterstateevents.vercel.app
2. Press: Ctrl + Shift + R (hard refresh)
3. Check console: F12
4. Should see: NO CORS errors
5. Should see: Events loading

🎉 DONE! Everything works!

Follow MANUAL_TESTING_CHECKLIST.md for full testing

═══════════════════════════════════════════════════════════
❌ IF STEP 5 STILL SHOWS "Route not found"
═══════════════════════════════════════════════════════════

Railway is broken. Switch to Render.com:

1. Open: RENDER_DEPLOY_STEPS.txt
2. Follow step-by-step (15 minutes)
3. Render WILL work (tested and reliable)
4. Update frontend config with Render URL
5. Done!

═══════════════════════════════════════════════════════════
📞 NEED HELP?
═══════════════════════════════════════════════════════════

Tell me:
- Which step you're on
- What you see in build logs
- What the /api/version endpoint returns

I'll help you fix it immediately!

═══════════════════════════════════════════════════════════
⏰ TIMELINE
═══════════════════════════════════════════════════════════

Steps 1-3: 3 minutes (clear settings, redeploy)
Step 4: 7 minutes (wait for build)
Step 5: 1 minute (test)

Total: 11 minutes

ALTERNATIVE (if Railway fails):
Render deployment: 15 minutes

═══════════════════════════════════════════════════════════
🎯 DO IT NOW!
═══════════════════════════════════════════════════════════

Start with Step 1 → Go to Railway Settings

