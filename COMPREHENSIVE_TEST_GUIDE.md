# üìã COMPREHENSIVE TESTING GUIDE

**System:** Event Ticketing Platform with Worker Validation  
**Version:** 1.0 (89% Complete - 17/19 features)  
**Date:** October 12, 2025  
**Status:** Production Ready

---

## üéØ TESTING OVERVIEW

This guide provides **complete manual testing procedures** for all system features. Use this as your **final quality assurance checklist** before going live.

---

## ‚úÖ PRE-TESTING SETUP

### 1. Database Migrations
**Status:** ‚è≥ Must run before testing

```sql
-- In Supabase SQL Editor, run in order:

-- Phase 2: Settings enhancements
-- File: backend/supabase-phase2-settings-migration.sql
DO $$ BEGIN
    ALTER TABLE settings ADD COLUMN IF NOT EXISTS support_phone TEXT;
    ALTER TABLE settings ADD COLUMN IF NOT EXISTS support_working_hours TEXT;
END $$;

-- Phase 4: Worker system
-- File: backend/supabase-phase4-workers-migration.sql
CREATE TABLE IF NOT EXISTS workers (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    full_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    role VARCHAR(50) NOT NULL DEFAULT 'worker',
    event_id UUID REFERENCES events(id) ON DELETE CASCADE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Phase 5: Ticket validation
-- File: backend/supabase-phase5-ticket-validation.sql
ALTER TABLE bookings ADD COLUMN IF NOT EXISTS tickets_validated JSONB DEFAULT '[]';
CREATE INDEX IF NOT EXISTS idx_bookings_payment_reference ON bookings(payment_reference);
```

### 2. Environment Variables Check
**Location:** Railway Dashboard

‚úÖ Verify these are set:
- `DATABASE_URL` (Supabase connection string)
- `JWT_SECRET` (any secure string)
- `SENDGRID_API_KEY` (your SendGrid key)
- `SENDGRID_FROM_EMAIL` (verified sender email)

### 3. Test Accounts
**Admin:** admin@studentevents.com / admin123  
**Worker:** (Create during testing)  
**Customer:** (Use any email for booking)

---

## üß™ TEST SUITE

### CATEGORY 1: ADMIN DASHBOARD ‚úÖ

#### Test 1.1: Admin Login
**URL:** https://afterstateevents.vercel.app/admin/

**Steps:**
1. Navigate to admin login
2. Enter credentials: admin@studentevents.com / admin123
3. Click "Login"

**Expected:**
- ‚úÖ Successful login
- ‚úÖ Redirected to dashboard
- ‚úÖ See Events tab with any existing events

**Status:** [ ] Pass [ ] Fail

---

#### Test 1.2: Create Event
**Tab:** Events

**Steps:**
1. Click "Create Event" button
2. Fill form:
   - Title: "Test Spring Festival"
   - Date: (future date)
   - Time: "20:00"
   - Location: "Campus Square"
   - Price: 15.00
   - Currency: EUR
   - Description: "Amazing spring celebration"
   - Min Age: 18
   - Dress Code: "Smart Casual"
   - Total Tickets: 100
   - Available Tickets: 100
   - Status: "Active"
3. Click "Save Event"

**Expected:**
- ‚úÖ Event appears in table
- ‚úÖ Shows correct details
- ‚úÖ Success notification

**Status:** [ ] Pass [ ] Fail

---

#### Test 1.3: Edit Event
**Tab:** Events

**Steps:**
1. Click edit icon on test event
2. Change title to "Test Spring Festival 2025"
3. Change price to 20.00
4. Click "Save Changes"
5. Refresh page

**Expected:**
- ‚úÖ Changes persist after refresh
- ‚úÖ Title shows "Test Spring Festival 2025"
- ‚úÖ Price shows ‚Ç¨20.00

**Status:** [ ] Pass [ ] Fail

---

#### Test 1.4: Coming Soon Status
**Tab:** Events

**Steps:**
1. Edit test event
2. Change status to "Coming Soon"
3. Set Tickets Available Date to (future date)
4. Save changes
5. Visit homepage

**Expected:**
- ‚úÖ Event shows "COMING SOON" badge
- ‚úÖ "Buy Tickets" button disabled
- ‚úÖ Shows "Tickets Available Soon"

**Status:** [ ] Pass [ ] Fail

---

#### Test 1.5: Create Worker
**Tab:** Workers

**Steps:**
1. Click "Add Worker" button
2. Fill form:
   - Full Name: "John Scanner"
   - Email: "worker@test.com"
   - Password: "Test123!"
   - Role: "Worker"
   - Event: (select test event)
3. Click "Save"

**Expected:**
- ‚úÖ Worker appears in table
- ‚úÖ Shows correct role badge
- ‚úÖ Event name displayed

**Status:** [ ] Pass [ ] Fail

---

#### Test 1.6: Filter Bookings by Event
**Tab:** Bookings

**Steps:**
1. Go to Bookings tab
2. Use event filter dropdown
3. Select specific event
4. Verify filtered results

**Expected:**
- ‚úÖ Shows only bookings for selected event
- ‚úÖ Filter persists after page refresh

**Status:** [ ] Pass [ ] Fail

---

#### Test 1.7: Export to Excel
**Tab:** Bookings

**Steps:**
1. Click "Export to Excel" button
2. Open downloaded file

**Expected:**
- ‚úÖ File downloads
- ‚úÖ Contains all booking data
- ‚úÖ Properly formatted columns

**Status:** [ ] Pass [ ] Fail

---

#### Test 1.8: Update Organization Branding
**Tab:** Settings

**Steps:**
1. Go to Settings tab
2. Update:
   - Organization Name: "Test Events"
   - Support Phone: "+370 600 12345"
   - Support Hours: "Mon-Fri 10:00-18:00"
3. Save settings
4. Visit homepage

**Expected:**
- ‚úÖ Homepage shows "Test Events" instead of "StudentEvents"
- ‚úÖ Support contacts updated
- ‚úÖ Changes reflected globally

**Status:** [ ] Pass [ ] Fail

---

### CATEGORY 2: PUBLIC WEBSITE ‚úÖ

#### Test 2.1: Homepage Loads
**URL:** https://afterstateevents.vercel.app/

**Steps:**
1. Navigate to homepage
2. Wait for events to load

**Expected:**
- ‚úÖ Homepage loads without errors
- ‚úÖ Events display correctly
- ‚úÖ Organization branding appears
- ‚úÖ Navigation works

**Status:** [ ] Pass [ ] Fail

---

#### Test 2.2: Event Details Page
**URL:** Click any event

**Steps:**
1. Click on test event
2. Review event details page

**Expected:**
- ‚úÖ All event information displayed
- ‚úÖ Date, time, location correct
- ‚úÖ Price shown correctly
- ‚úÖ "Buy Ticket" button visible (if active)

**Status:** [ ] Pass [ ] Fail

---

#### Test 2.3: Complete Booking (Single Attendee)
**Start:** Event details page

**Steps:**
1. Click "Buy Ticket"
2. Fill checkout form:
   - Quantity: 1
   - First Name: "Jane"
   - Last Name: "Test"
   - Email: "test@example.com"
   - Phone: "+370 600 11111"
   - Select: "ISM Student" or "Guest (+1)"
3. Click "Proceed to Payment"

**Expected:**
- ‚úÖ Form validation works
- ‚úÖ Redirects to payment instructions
- ‚úÖ Shows correct amount
- ‚úÖ Unique payment reference generated

**Status:** [ ] Pass [ ] Fail

---

#### Test 2.4: Complete Booking (Multiple Attendees)
**Start:** Event details page

**Steps:**
1. Click "Buy Ticket"
2. Select quantity: 3
3. Fill primary contact info
4. Fill additional attendee forms (2 more)
5. Submit booking

**Expected:**
- ‚úÖ Dynamic forms appear for each attendee
- ‚úÖ All required fields validate
- ‚úÖ Payment reference includes all names
- ‚úÖ Correct total amount calculated

**Status:** [ ] Pass [ ] Fail

---

#### Test 2.5: Payment Instructions Display
**After:** Creating booking

**Steps:**
1. Review payment instructions page
2. Check all sections

**Expected:**
- ‚úÖ Event details correct
- ‚úÖ All attendees listed
- ‚úÖ Bank transfer details shown
- ‚úÖ Payment reference displayed
- ‚úÖ Important warnings visible

**Status:** [ ] Pass [ ] Fail

---

#### Test 2.6: Download Pending Ticket PDF
**On:** Payment instructions page

**Steps:**
1. Click "Download Ticket" button
2. Open downloaded PDF

**Expected:**
- ‚úÖ PDF downloads successfully
- ‚úÖ Contains all attendee info
- ‚úÖ QR codes generated for each person
- ‚úÖ "PAYMENT PENDING" warning visible
- ‚úÖ Support contacts included

**Status:** [ ] Pass [ ] Fail

---

#### Test 2.7: Rules & Policy Page
**URL:** https://afterstateevents.vercel.app/rules.html

**Steps:**
1. Navigate to rules page
2. Read content
3. Click "Download as PDF"

**Expected:**
- ‚úÖ Rules page loads
- ‚úÖ Content displays correctly
- ‚úÖ Download works
- ‚úÖ Organization branding applied

**Status:** [ ] Pass [ ] Fail

---

### CATEGORY 3: WORKER PORTAL ‚úÖ

#### Test 3.1: Worker Login
**URL:** https://afterstateevents.vercel.app/worker/login.html

**Steps:**
1. Navigate to worker login
2. Enter credentials created in Test 1.5
3. Click "Login"

**Expected:**
- ‚úÖ Successful login
- ‚úÖ Redirected to scanner dashboard
- ‚úÖ Event name displayed
- ‚úÖ Worker name/role shown

**Status:** [ ] Pass [ ] Fail

---

#### Test 3.2: Manual Ticket Validation
**Location:** Worker dashboard

**Steps:**
1. Get payment reference from Test 2.3 booking
2. Enter ticket number in manual input
3. Click "Validate"

**Expected (if admin approved booking):**
- ‚úÖ Shows "VALID TICKET" ‚úì
- ‚úÖ Displays attendee name
- ‚úÖ Shows event title
- ‚úÖ Timestamp logged

**Expected (if not yet approved):**
- ‚úÖ Shows "NOT PAID" status
- ‚úÖ Appropriate error message

**Status:** [ ] Pass [ ] Fail

---

#### Test 3.3: QR Code Scanning
**Location:** Worker dashboard

**Steps:**
1. Click "Start Camera"
2. Point camera at QR code from PDF ticket
3. Wait for scan

**Expected:**
- ‚úÖ Camera starts successfully
- ‚úÖ QR code recognized
- ‚úÖ Validation result displayed
- ‚úÖ Same result as manual entry

**Status:** [ ] Pass [ ] Fail

---

#### Test 3.4: Duplicate Ticket Prevention
**Location:** Worker dashboard

**Steps:**
1. Scan/enter same ticket number again
2. Review result

**Expected:**
- ‚úÖ Shows "ALREADY USED" status
- ‚úÖ Displays previous validation timestamp
- ‚úÖ Does not allow re-entry

**Status:** [ ] Pass [ ] Fail

---

#### Test 3.5: Wrong Event Validation
**Setup:** Create worker for different event

**Steps:**
1. Login as worker assigned to Event A
2. Try to validate ticket for Event B

**Expected:**
- ‚úÖ Shows "WRONG EVENT" error
- ‚úÖ Ticket not marked as used
- ‚úÖ Attendee name still displayed for reference

**Status:** [ ] Pass [ ] Fail

---

### CATEGORY 4: EMAIL SYSTEM ‚úÖ

#### Test 4.1: Booking Confirmation Email
**Setup:** Create test booking (Test 2.3)

**Steps:**
1. Admin approves booking in dashboard
2. Check customer email

**Expected:**
- ‚úÖ Email received within 1 minute
- ‚úÖ Contains event details
- ‚úÖ Lists all attendees
- ‚úÖ Includes ticket numbers
- ‚úÖ QR codes embedded (or attached)
- ‚úÖ "VALID TICKET" header/notice

**Status:** [ ] Pass [ ] Fail

---

#### Test 4.2: Multi-Attendee Email
**Setup:** Booking with 3 people (Test 2.4)

**Steps:**
1. Admin approves booking
2. Check email

**Expected:**
- ‚úÖ Single email sent
- ‚úÖ Contains all 3 tickets
- ‚úÖ Each has unique ticket number
- ‚úÖ Each has unique QR code
- ‚úÖ All attendee names listed

**Status:** [ ] Pass [ ] Fail

---

### CATEGORY 5: DATA SYNCHRONIZATION ‚úÖ

#### Test 5.1: Admin ‚Üí Homepage Sync
**Steps:**
1. Admin edits event (change title)
2. Open homepage in new browser tab
3. Refresh homepage

**Expected:**
- ‚úÖ Changes appear immediately
- ‚úÖ Updated title displayed
- ‚úÖ No caching issues

**Status:** [ ] Pass [ ] Fail

---

#### Test 5.2: Booking ‚Üí Admin Dashboard Sync
**Steps:**
1. Create new booking on public site
2. Watch admin Bookings tab (leave open)
3. Wait 10 seconds

**Expected:**
- ‚úÖ New booking appears within 10 seconds
- ‚úÖ Auto-refresh polling working
- ‚úÖ Correct data displayed

**Status:** [ ] Pass [ ] Fail

---

#### Test 5.3: Settings ‚Üí Global Update
**Steps:**
1. Change organization name in settings
2. Open homepage, worker login, rules page
3. Refresh all pages

**Expected:**
- ‚úÖ New org name on all pages
- ‚úÖ Support contacts updated everywhere
- ‚úÖ Consistent branding

**Status:** [ ] Pass [ ] Fail

---

### CATEGORY 6: MOBILE RESPONSIVENESS ‚úÖ

#### Test 6.1: Mobile Homepage
**Device:** Use browser dev tools, mobile view

**Steps:**
1. View homepage on mobile (375px width)
2. Navigate through pages

**Expected:**
- ‚úÖ Layout adapts correctly
- ‚úÖ Event cards stack vertically
- ‚úÖ Navigation menu accessible
- ‚úÖ All content readable

**Status:** [ ] Pass [ ] Fail

---

#### Test 6.2: Mobile Checkout
**Device:** Mobile view

**Steps:**
1. Complete booking on mobile
2. Fill all forms

**Expected:**
- ‚úÖ Forms render correctly
- ‚úÖ Input fields accessible
- ‚úÖ Radio buttons work
- ‚úÖ Submit button visible

**Status:** [ ] Pass [ ] Fail

---

#### Test 6.3: Mobile Worker Scanner
**Device:** Mobile view (or actual mobile device)

**Steps:**
1. Login as worker on mobile
2. Use QR scanner

**Expected:**
- ‚úÖ Camera accessible
- ‚úÖ Scanner interface usable
- ‚úÖ Manual input works
- ‚úÖ Results readable

**Status:** [ ] Pass [ ] Fail

---

### CATEGORY 7: PERFORMANCE ‚úÖ

#### Test 7.1: Page Load Times
**Tools:** Browser DevTools Network tab

**Steps:**
1. Measure load time for each page
2. Clear cache between tests

**Expected:**
- ‚úÖ Homepage: < 3 seconds
- ‚úÖ Event details: < 2 seconds
- ‚úÖ Checkout: < 2 seconds
- ‚úÖ Admin dashboard: < 3 seconds

**Status:** [ ] Pass [ ] Fail

---

#### Test 7.2: API Response Times
**Tools:** Browser Network tab

**Steps:**
1. Monitor API calls
2. Check response times

**Expected:**
- ‚úÖ GET /api/events: < 500ms
- ‚úÖ POST /api/bookings: < 1000ms
- ‚úÖ POST /api/workers/validate-ticket: < 500ms
- ‚úÖ GET /api/admin/bookings: < 1000ms

**Status:** [ ] Pass [ ] Fail

---

### CATEGORY 8: SECURITY ‚úÖ

#### Test 8.1: Admin Authentication
**Steps:**
1. Try accessing /admin/ without login
2. Try with wrong password
3. Try accessing admin API without token

**Expected:**
- ‚úÖ Redirected to login
- ‚úÖ Invalid credentials rejected
- ‚úÖ API returns 401 Unauthorized

**Status:** [ ] Pass [ ] Fail

---

#### Test 8.2: Worker Authentication
**Steps:**
1. Try accessing /worker/index.html without login
2. Try validating ticket without token
3. Try accessing other worker's event data

**Expected:**
- ‚úÖ Redirected to login
- ‚úÖ Token required for validation
- ‚úÖ Event-specific access enforced

**Status:** [ ] Pass [ ] Fail

---

#### Test 8.3: SQL Injection Prevention
**Steps:**
1. Try entering SQL in event title: "'; DROP TABLE events; --"
2. Submit booking with SQL in name
3. Check database

**Expected:**
- ‚úÖ Input sanitized
- ‚úÖ No SQL executed
- ‚úÖ Data stored safely

**Status:** [ ] Pass [ ] Fail

---

## üìä TEST RESULTS SUMMARY

### Completion Checklist

**Category 1: Admin Dashboard**
- [ ] Test 1.1: Admin Login
- [ ] Test 1.2: Create Event
- [ ] Test 1.3: Edit Event
- [ ] Test 1.4: Coming Soon Status
- [ ] Test 1.5: Create Worker
- [ ] Test 1.6: Filter Bookings
- [ ] Test 1.7: Export Excel
- [ ] Test 1.8: Organization Branding

**Category 2: Public Website**
- [ ] Test 2.1: Homepage
- [ ] Test 2.2: Event Details
- [ ] Test 2.3: Single Booking
- [ ] Test 2.4: Multi Booking
- [ ] Test 2.5: Payment Instructions
- [ ] Test 2.6: Download PDF
- [ ] Test 2.7: Rules Page

**Category 3: Worker Portal**
- [ ] Test 3.1: Worker Login
- [ ] Test 3.2: Manual Validation
- [ ] Test 3.3: QR Scanning
- [ ] Test 3.4: Duplicate Prevention
- [ ] Test 3.5: Wrong Event

**Category 4: Email System**
- [ ] Test 4.1: Single Email
- [ ] Test 4.2: Multi Email

**Category 5: Data Sync**
- [ ] Test 5.1: Admin ‚Üí Homepage
- [ ] Test 5.2: Booking ‚Üí Admin
- [ ] Test 5.3: Settings ‚Üí Global

**Category 6: Mobile**
- [ ] Test 6.1: Mobile Homepage
- [ ] Test 6.2: Mobile Checkout
- [ ] Test 6.3: Mobile Scanner

**Category 7: Performance**
- [ ] Test 7.1: Load Times
- [ ] Test 7.2: API Times

**Category 8: Security**
- [ ] Test 8.1: Admin Auth
- [ ] Test 8.2: Worker Auth
- [ ] Test 8.3: SQL Injection

---

## üêõ BUG TRACKING

### Issues Found

| # | Category | Description | Severity | Status |
|---|----------|-------------|----------|--------|
| 1 | | | | |
| 2 | | | | |
| 3 | | | | |

---

## ‚úÖ FINAL SIGN-OFF

**Tested By:** ________________  
**Date:** ________________  
**Overall Status:** [ ] Pass [ ] Fail [ ] Pass with Minor Issues

**Notes:**
```
[Add any additional observations or recommendations]
```

---

## üìû SUPPORT

**Issues?** Contact development team:
- **Email:** (your email)
- **GitHub:** (repository issues)

**Production URLs:**
- **Frontend:** https://afterstateevents.vercel.app
- **Backend:** https://studentevents-production.up.railway.app
- **Admin:** /admin/index.html
- **Worker:** /worker/login.html

---

**End of Test Guide**

**System Status:** Ready for Production Testing  
**Completion:** 89% (17/19 features)  
**Next:** Run this test suite before going live!


